<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <pre>Rock paper Scissor</pre>
    <div>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div id="container">

    </div>
    <script>
        const container = document.querySelector('#container');

        let buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            button.addEventListener('click' , (e) => {
                let result = playRound(button.id,computerPlay());
                count++;
                if (result == 0){
                    newGame= addpara('User wins');
                    user = user+1;
                }
                else if (result == 1){
                    newGame = addpara('There is a tie');
                }
                else if (result == 2){
                    newGame= addpara('Computer wins');
                    computer = computer+ 1;
                }
                else {
                    newGame= addpara(result);
                }
                container.appendChild(newGame);
                if(count == 5){
                    ;
                    if(user>computer) endresult= addpara("User wins the game");
                    else if (computer > user) endresult = addpara("Computer wins the game");
                    else endresult = addpara("There is a tie between user and computer");
                    container.appendChild(endresult);
                }
                
            });
        });

        let computerPlay = () => {
           let  x=Math.floor(3*Math.random());
            switch (x) {
                case 0:
                    return "rock"
                case 1:
                    return "paper"
                case 2:
                    return "scissors"
            }
        }

        function addpara(incoming){
            const newGame = document.createElement("p");
            newGame.textContent = incoming;
            return newGame;
        }
        
//Function to play five rounds of game from console

        // function game(){
        //     for (let index = 0; index < 5; index++) {
        //         console.log(` Round ${index +1}`);
        //         let computadora = computerPlay();
        //         let userInput = "rock";
        //         userInput = prompt("Enter your input");
        //         console.log("computer choice is "+ computadora);
        //         console.log("User input is " + userInput);
        //         let result = playRound(userInput, computadora);
        //         if (result == 0){
        //             console.log("User wins");
        //             user = user+1;
        //         }
        //         else if (result == 1){
        //             console.log("There is a tie");
        //         }
        //         else if (result == 2){
        //             console.log("Computer wins");
        //             computer = computer+ 1
        //         }
        //         else {
        //             console.log(result);
        //         }
        //         console.log("User score is :" + user +" and computer score is :"+ computer);
        //     };
        //     if(user>computer) console.log("User wins the game");
        //     else if (computer > user) console.log("Computer wins the game");
        //     else console.log("There is a tie between user and computer");
        // }

        function playRound(userInput, computerSelection){
            let computerInput = computerSelection.toLowerCase();
            usernote = addpara(`User selected ${userInput}`);
            computernote = addpara (`Computer selected ${computerInput}`);
            container.appendChild(usernote);
            container.appendChild(computernote);
            switch (userInput.toLowerCase()) {
                case "rock":
                    if (computerInput == "scissors") {
                        return 0;
                    } else if (computerInput == "rock") {
                        return 1;
                    } else {
                        return 2;
                    }
                case "paper":
                    if (computerInput == "rock") {
                        return 0;
                    } else if (computerInput == "paper") {
                        return 1;
                    } else {
                        return 2;
                    }
                case "scissors":
                    if (computerInput == "paper") {
                        return 0;
                    } else if (computerInput == "scissors") {
                        return 1;
                    } else {
                        return 2;
                    }
                default:
                 return "invalid user input"
                    break;
            }
        }
        let count = 0;
        let computer = 0;
        let user = 0;
        // game();
        // console.log(computadora);
        // console.log(playRound("paper",computadora));
    </script>
</body>
</html>